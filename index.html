<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>kQuery by fmenozzi</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>kQuery</h1>
        <h2>A SQL interface to your Linux kernel</h2>

        <section id="downloads">
          <a href="https://github.com/fmenozzi/kQuery/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/fmenozzi/kQuery/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/fmenozzi/kQuery" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="kquery" class="anchor" href="#kquery" aria-hidden="true"><span class="octicon octicon-link"></span></a>kQuery</h1>

<p>A SQL interface to your Linux kernel. Think of it like a Linux-only <a href="http://osquery.io">osquery</a>, but with fewer and less-robust tables (but we don't require vagrant or VMs, so we got that going for us, which is nice).</p>

<h2>
<a id="building-from-source" class="anchor" href="#building-from-source" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building from Source</h2>

<p>Building from source involves building the kernel module, loading it, and then building the user program. You can use the script <code>make.sh</code> to perform all three tasks at once, or you can use the <code>load.sh</code> and <code>compile.sh</code> scripts to perform the tasks separately. As a note, you may need to use the <code>chmod</code> command to make the scripts executable. </p>

<h2>
<a id="use" class="anchor" href="#use" aria-hidden="true"><span class="octicon octicon-link"></span></a>Use</h2>

<ol>
<li>Use <code>sudo ./kquery</code> to run the shell</li>
<li>Use <code>sudo ./kquery "query"</code> to run individual queries</li>
</ol>

<h2>
<a id="current-features" class="anchor" href="#current-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current Features</h2>

<ul>
<li>
<code>.quit</code> and <code>CTRL-D</code> to exit the shell</li>
<li>Use in UNIX pipelines

<ul>
<li>When running a single query via command line, columns are separated by <code>_</code>
</li>
<li>To help shorten command lengths, you can use the following <code>@</code> notation:

<ul>
<li>
<code>@S</code>  = <code>SELECT</code>
</li>
<li>
<code>@SD</code> = <code>SELECT DISTINCT</code>
</li>
<li>
<code>@F</code>  = <code>FROM</code>
</li>
<li>
<code>@W</code>  = <code>WHERE</code>
</li>
</ul>
</li>
<li>Results can be piped. For example, <code>sudo ./kquery "@S name @F Process" | sort</code> will print the names of all processes alphabetically</li>
</ul>
</li>
<li>
<p>The following tables:</p>

<ul>
<li>
<p><strong>Process</strong></p>

<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>pid</td>
<td>INT PRIMARY KEY</td>
</tr>
<tr>
<td>name</td>
<td>TEXT</td>
</tr>
<tr>
<td>parent_pid</td>
<td>INT</td>
</tr>
<tr>
<td>state</td>
<td>BIGINT</td>
</tr>
<tr>
<td>flags</td>
<td>BIGINT</td>
</tr>
<tr>
<td>priority</td>
<td>INT</td>
</tr>
<tr>
<td>num_vmas</td>
<td>INT</td>
</tr>
<tr>
<td>total_vm</td>
<td>BIGINT</td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>

<h2>
<a id="future-features" class="anchor" href="#future-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future Features</h2>

<ul>
<li>Extra shell commands (<code>.tables</code>, <code>.schema</code>, etc.)</li>
<li>More tables</li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>kQuery is licensed under the <a href="https://www.gnu.org/licenses/gpl-2.0.html">GNU General Public License, version 2</a>.</p>
      </section>
    </div>

    
  </body>
</html>